# 第一章：如何正确的代码分割

场景: 在谷歌浏览器的性能面板里发现，在主线程里，存在长任务，耗时高达54.37毫秒，并且build出来包的大小有1.5MB，该如何分析优化？

webpack和其他打包工具生成的代码，这些代码主要是为了使不同模块之间的导入和导出能够正常工作。生成的代码通常包含立即调用的函数表达式（IIFE）和各种运行时实用函数（如 webpackJsonpCallback 和 __webpack_require__），用于处理模块间的依赖关系，并根据已初始化的模块决定何时可以或不能运行我们的代码。

这些代码会同步运行，因为我们需要所有这些代码来运行我们的代码。但我们需要做的是将这些代码分成更小的片段，并在主线程之间留出一些空间。事实上，正如我们所看到的，一次性执行所有Webpack实用程序代码会导致性能显著下降。换句话说，如果能够按需加载这些代码片段就好了。











